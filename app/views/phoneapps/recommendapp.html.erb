<div class="topLearning">
  <div class="menuRL">
    <div class="menuRItem menuRselect"><a href="#"><span class="span1"><span class="span2">Recommend App</span></span></a></div>
    <div class="menuRItem"><a href="#"><span class="span1"><span class="span2">Submit App</span></span></a></div>
  </div>
  <div class="postdiv">
    <span class="RmenuRbtm2"><a href="#">Post</a></span>
  </div>
</div>
<div class="contMain">
  <div class="contDetL">

    <div class="contDetLin">
      <div class="learnLeft">
        <div class="phoneTop">
          <div class="iphoneTitle">applications list</div>
          <div class="learnPage">
            <div class="learnPageL" id="iphoneTop">Page 1 of <%=h @pageIapp %></div>
            <div class="learnPageP"><%= link_to "&nbsp;", {:controller => 'phoneapps', :action => "iphonepage"},  :class=> "iphoneback" %></div>
            <div class="learnPageN"><%= link_to "&nbsp;", {:controller => 'phoneapps', :action => "iphonepage"},  :class=> "iphonenext" %></div>
          </div>
        </div>
        <div class="learnTools">
          <%= render :partial => "iappitems", :locals => {:appdata => @iphonedata} %>
        </div>

        <div class="blackBTop">
          <div class="blackBTitle">applications list</div>
          <div class="learnPage">
            <div id="bphoneTop" class="learnPageL">Page 1 of  <%=h @pagebberry %></div>
            <div class="learnPageP"><%= link_to "&nbsp;", {:controller => 'phoneapps', :action => "bberrypage"},  :class=> "berryback" %></div>
            <div class="learnPageN"><%= link_to "&nbsp;", {:controller => 'phoneapps', :action => "bberrypage"},  :class=> "berrynext" %></div>
          </div>
        </div>

        <div class="learnTools">
          <%= render :partial => "bappitems", :locals => {:appdata => @bberrydata} %>
        </div>
        <div class="googleTop">
          <div class="googleTitle">applications list</div>
          <div class="learnPage">

            <div class="learnPageL" id="gphoneTop">Page 1 of <%=h @pagegoogleapp %></div>
            <div class="learnPageP"><%= link_to "&nbsp;", {:controller => 'phoneapps', :action => "googleapppage"},  :class=> "g_apback" %></div>
            <div class="learnPageN"><%= link_to "&nbsp;", {:controller => 'phoneapps', :action => "googleapppage"},  :class=> "g_apnext" %></div>

          </div>
        </div>
        <div class="learnTools">
          <%= render :partial => "gappitems", :locals => {:appdata => @googleappdata} %>
        </div>

        <div class="learnN">
          <div class="learnNM">
            <div class="learnNMtitle" id="phoneappstab">
              <%= link_to "Phone Apps", {:controller => 'phoneapps', :action => "phoneappstab"} %>
            </div>
            <div class="learnNMP" id="populartab">
              <%= link_to "Popular", {:controller => 'phoneapps', :action => "populartab"} %>
            </div>
            <div class="learnNML" id="verifiedtab">
              <%= link_to "Verified", {:controller => 'phoneapps', :action => "verifiedtab"} %>
            </div>
            <div class="learnNML" id="recentlyaddedtab">
              <%= link_to "Recently Added", {:controller => 'phoneapps', :action => "recentlyaddedtab"} %>
            </div>
            <div class="learnNMR" id="seealltab">
              <%= link_to "See All", {:controller => 'phoneapps', :action => "seealltab"} %>
            </div>

          </div>
        </div>
        <script language="javascript">
          var seealltaburl = $("#seealltab a").attr("href");

          $("#seealltab a").bind('click',function(){
            if (seealltaburl != undefined){
              LoadSpinner('allappitems');
              $.ajax({
                url: seealltaburl,
                type: "GET",
                dataType: "html",
                failure: function(msg){
                  alert('ajax fail:'+msg);
                },
                success: function(msg){
                  $('#allappitems').html(msg);
                }
              });
            }
            return false;
          });

          var recentlyaddedtaburl = $("#recentlyaddedtab a").attr("href");

          $("#recentlyaddedtab a").bind('click',function(){
            if (recentlyaddedtaburl != undefined){
              LoadSpinner('allappitems');
              $.ajax({
                url: recentlyaddedtaburl,
                type: "GET",
                dataType: "html",
                failure: function(msg){
                  alert('ajax fail:'+msg);
                },
                success: function(msg){
                  $('#allappitems').html(msg);
                }
              });
            }
            return false;
          });
          var verifiedtaburl = $("#verifiedtab a").attr("href");

          $("#verifiedtab a").bind('click',function(){
            if (verifiedtaburl != undefined){
              LoadSpinner('allappitems');
              $.ajax({
                url: verifiedtaburl,
                type: "GET",
                dataType: "html",
                failure: function(msg){
                  alert('ajax fail:'+msg);
                },
                success: function(msg){
                  $('#allappitems').html(msg);
                }
              });
            }
            return false;
          });
          var populartaburl = $("#populartab a").attr("href");

          $("#populartab a").bind('click',function(){
            if (populartaburl != undefined){
              LoadSpinner('allappitems');
              $.ajax({
                url: populartaburl,
                type: "GET",
                dataType: "html",
                failure: function(msg){
                  alert('ajax fail:'+msg);
                },
                success: function(msg){
                  $('#allappitems').html(msg);
                }
              });
            }
            return false;
          });

          var phoneappstaburl = $("#phoneappstab a").attr("href");
          
          $("#phoneappstab a").bind('click',function(){
            if (phoneappstaburl != undefined){
              LoadSpinner('allappitems');
              $.ajax({
                url: phoneappstaburl,
                type: "GET",
                dataType: "html",
                failure: function(msg){
                  alert('ajax fail:'+msg);
                },
                success: function(msg){
                  $('#allappitems').html(msg);
                }
              });
            }
            return false;
          });
        </script>
        <div id="allappitems">
          <%= render :partial => "allappitems", :locals => {:appdata => @allapps} %>

          <div class="assPage">
            <span class="numPage">Page 1 of <%= @pageallapps %></span>
            <span class="firstPage">
              <%= link_to "First Page", {:controller => 'phoneapps', :action => "pagingphoneapps", :page => '1'}%>
            </span>

            <%= will_paginate(@allapps, :params => { :controller => "phoneapps", :action => "pagingphoneapps" }) %>

            <span class="lastPage">
              <%= link_to "Last Page", {:controller => 'phoneapps', :action => "pagingphoneapps", :page => @pageallapps}%>
            </span>
          </div>
          <script language="javascript">
            /*code to handle ajax pagination for all application TABS*/
            var nextpageurl = $(".disabled.next_page").attr("href");
            var prevpageurl = $(".disabled.prev_page").attr("href");
            $(".current").each(function(){
              var onepageurl = $(this).attr('href');
              $(this).bind('click',function(){
                if (onepageurl != undefined){
                  LoadSpinner('allappitems');
                  $.ajax({
                    url: onepageurl,
                    type: "GET",
                    dataType: "html",
                    failure: function(msg){
                      alert('ajax fail:'+msg);
                    },
                    success: function(msg){
                      $('#allappitems').html(msg);
                    }
                  });
                }
                return false;
              });
            });

            $('.disabled.next_page').bind('click',function(){
              if (nextpageurl!=undefined){
                LoadSpinner('allappitems');
                $.ajax({
                  url: nextpageurl,
                  type: "GET",
                  dataType: "html",
                  failure: function(msg){
                    alert('ajax fail:'+msg);
                  },
                  success: function(msg){
                    $('#allappitems').html(msg);
                  }
                });

              }
              return false;
            });
            $('.disabled.prev_page').bind('click',function(){
              if(prevpageurl != undefined){
                LoadSpinner('allappitems');
                $.ajax({
                  url: prevpageurl,
                  type: "GET",
                  dataType: "html",
                  failure: function(msg){
                    alert('ajax fail:'+msg);
                  },
                  success: function(msg){
                    $('#allappitems').html(msg);
                  }
                });
              }
              return false;
            });
            var firstpageurl = $('.firstPage a').attr('href');
            $('.firstPage').bind('click',function(){
              LoadSpinner('allappitems');
              $.ajax({
                url: firstpageurl,
                type: "GET",
                dataType: "html",
                failure: function(msg){
                  alert('ajax fail:'+msg);
                },
                success: function(msg){
                  $('#allappitems').html(msg);
                }
              });
              return false;
            });
            var lastpageurl =  $('.lastPage a').attr('href');;
            $('.lastPage').bind('click',function(){
              LoadSpinner('allappitems');
              $.ajax({
                url: lastpageurl,
                type: "GET",
                dataType: "html",
                failure: function(msg){
                  alert('ajax fail:'+msg);
                },
                success: function(msg){
                  $('#allappitems').html(msg);
                }
              });
              return false;
            });
          </script>
        </div><!--Close DIV of id=allappitems pagination-->




        <div class="goTop"><a href="#">Top</a></div>
      </div>
    </div>

  </div>


  <div class="contMainR">
    <div class="creAdv"><a href="#">Create an Ad</a></div>
    <div class="advert">
      <div class="advertTitle">Advertisement</div>
      <div class="Dani">DaniWeb - IT Discussion Community</div>
      <div class="advertImg"><img src="pictures/pic6.png"></div>
      <div class="advertDes">Tech support, programming, web development, and internet marketing community.</div>
      <div class="advertInf">
        <div class="advertInfL">
          <a class="adverta" href="#">482</a><a class="advertb" href="#">12</a><a class="advertc" href="#">10 Comments</a>
        </div>
        <div class="advertInfR">
          <span class="pre"><a href="#">&nbsp;</a></span>
          <span class="next"><a href="#">&nbsp;</a></span></div>
      </div>
    </div>
    <div class="advert">
      <div class="Dani">DaniWeb - IT Discussion Community</div>
      <div class="advertImg"><img src="pictures/adv.png"></div>
      <div class="advertDes">Tech support, programming, web development, and internet marketing community.</div>
      <div class="advertInf">
        <div class="advertInfL">
          <a class="adverta" href="#">482</a><a class="advertb" href="#">12</a><a class="advertc" href="#">10 Comments</a>
        </div>
        <div class="advertInfR">
          <span class="pre"><a href="#">&nbsp;</a></span>
          <span class="next"><a href="#">&nbsp;</a></span></div>
      </div>
    </div>
    <div class="advert">
      <div class="Dani">MTV - New Music Videos, Reality TV Shows...</div>
      <div class="advertImg"><img src="pictures/adv1.png"></div>
      <div class="advertDes">Watch the latest Music Video from your favorite artists.</div>
      <div class="advertInf">
        <div class="advertInfL">
          <a class="adverta" href="#">482</a><a class="advertb" href="#">12</a><a class="advertc" href="#">10 Comments</a>
        </div>
        <div class="advertInfR">
          <span class="pre"><a href="#">&nbsp;</a></span>
          <span class="next"><a href="#">&nbsp;</a></span></div>
      </div>
    </div>
  </div>


</div>

<script language="javascript">

  /*Pagination for iphone app*/
  var url = $(".iphonenext").attr("href");/*url is the same for next, back. only parameter is different*/

  var icurpage = 1;
  var inextpage = 2;
  var ibackpage = 0;
  var itotal = <%= @pageIapp %>

  $(".iphonenext").bind('click', function() {
    LoadSpinner('iphonedata');
    $.ajax({
      url: url,
      type: "GET",
      dataType: "html",
      data: { page: inextpage },
      failure: function(msg){
        alert('ajax fail:'+msg);
      },
      success: function(msg){
        $('#iphonedata').html(msg);
        $('#iphoneTop').html('Page '+icurpage+' of '+itotal);
      }
    });
    if (inextpage < itotal){
      icurpage = inextpage;
      inextpage = inextpage + 1;
      ibackpage = ibackpage + 1;
    }else if (inextpage == itotal){
      icurpage = inextpage;
      ibackpage = icurpage - 1;
    }
    return false;
  });
  
  $(".iphoneback").bind('click', function() {
    if (ibackpage > 0){
      LoadSpinner('iphonedata');
      $.ajax({
        url: url,
        type: "GET",
        dataType: "html",
        data: { page: ibackpage },
        failure: function(msg){
          alert('ajax fail:'+msg);
        },
        success: function(msg){
          $('#iphonedata').html(msg);
          $('#iphoneTop').html('Page '+icurpage+' of '+itotal);
        }
      });
    }//END IF

    if (ibackpage > 1){
      icurpage = ibackpage;
      inextpage = inextpage - 1;
      ibackpage = ibackpage - 1;
    }else if (ibackpage == 1){
      icurpage = ibackpage;
      inextpage = icurpage + 1;
    }
    return false;
  });
  /*Pagination for blackberry app*/
  var berryurl = $(".berrynext").attr("href");/*url is the same for next, back. only parameter is different*/

  var bcurpage = 1;
  var bnextpage = 2;
  var bbackpage = 0;
  var btotal = <%= @pagebberry %>

  $(".berrynext").bind('click', function() {
    LoadSpinner('bappdata');
    $.ajax({
      url: berryurl,
      type: "GET",
      dataType: "html",
      data: { page: bnextpage },
      failure: function(msg){
        alert('ajax fail:'+msg);
      },
      success: function(msg){
        $('#bappdata').html(msg);
        $('#bphoneTop').html('Page '+bcurpage+' of '+btotal);
      }
    });
    if (bnextpage < btotal){
      bcurpage = bnextpage;
      bnextpage = bnextpage + 1;
      bbackpage = bbackpage + 1;
    }else if (bnextpage == btotal){
      bcurpage = bnextpage;
      bbackpage = bcurpage - 1;
    }
    return false;
  });

  $(".berryback").bind('click', function() {
    if (bbackpage > 0){
      LoadSpinner('bappdata');
      $.ajax({
        url: berryurl,
        type: "GET",
        dataType: "html",
        data: { page: bbackpage },
        failure: function(msg){
          alert('ajax fail:'+msg);
        },
        success: function(msg){
          $('#bappdata').html(msg);
          $('#bphoneTop').html('Page '+bcurpage+' of '+btotal);
        }
      });
    }//END IF

    if (bbackpage > 1){
      bcurpage = bbackpage;
      bnextpage = bnextpage - 1;
      bbackpage = bbackpage - 1;
    }else if (bbackpage == 1){
      bcurpage = bbackpage;
      bnextpage = bcurpage + 1;
    }
    return false;
  });
  /*Pagination for google app*/
  var gurl = $(".g_apnext").attr("href");/*url is the same for next, back. only parameter is different*/

  var gcurpage = 1;
  var gnextpage = 2;
  var gbackpage = 0;
  var gtotal = <%= @pagegoogleapp %>

  $(".g_apnext").bind('click', function() {
    LoadSpinner('gappdata');
    $.ajax({
      url: gurl,
      type: "GET",
      dataType: "html",
      data: { page: gnextpage },
      failure: function(msg){
        alert('ajax fail:'+msg);
      },
      success: function(msg){
        $('#gappdata').html(msg);
        $('#gphoneTop').html('Page '+gcurpage+' of '+gtotal);
      }
    });
    if (gnextpage < gtotal){
      gcurpage = gnextpage;
      gnextpage = gnextpage + 1;
      gbackpage = gbackpage + 1;
    }else if (gnextpage == gtotal){
      gcurpage = gnextpage;
      gbackpage = gcurpage - 1;
    }
    return false;
  });

  $(".g_apback").bind('click', function() {
    if (gbackpage > 0){
      LoadSpinner('gappdata');
      $.ajax({
        url: gurl,
        type: "GET",
        dataType: "html",
        data: { page: gbackpage },
        failure: function(msg){
          alert('ajax fail:'+msg);
        },
        success: function(msg){
          $('#gappdata').html(msg);
          $('#gphoneTop').html('Page '+gcurpage+' of '+gtotal);
        }
      });
    }
 
    if (gbackpage > 1){
      gcurpage = gbackpage;
      gnextpage = gnextpage - 1;
      gbackpage = gbackpage - 1;
    }else if (gbackpage == 1){
      gcurpage = gbackpage;
      gnextpage = gcurpage + 1;
    }
    return false;
  });
  function LoadSpinner(divname){

    $('#'+divname).html('<img src="/images/ajax-loader.gif" alt="Please wait..." />');
  }
</script>