<% form_tag url_for(:controller => "learn_tools", :action => "first_tab_paging"), :id => "form_first_tab", :method => :get, :remote => true do %>
  <%= hidden_field_tag "bottom_page_to_load", @cur_bottom_page ? @cur_bottom_page : "1" %>
  <%= hidden_field_tag "bottom_page_tab_parm", @cur_bottom_tab ? @cur_bottom_tab : "first" %>
  <style>
    .assPage .pagination .previous_page a:hover {
      background: none repeat scroll 0 0 #2E6AB1;
      border-radius: 2px 2px 2px 2px;
      color: #FFFFFF!important;
      cursor: pointer;
      height: 14px;
    }
    .assPage .pagination .previous_page a {
      color: red;
      padding: 1px 4px;
      text-decoration: none;
      background: url("") no-repeat scroll left center transparent;
    }
  </style>
  <div class="learnN">
    <div class="learnNM">
      <div id="all_tool" class="learnNMtitle" style="background-color: #F9F9F8; color: #3E3E3E; font-weight: normal;border-left: 1px solid #DBDBDB;">Learning Tools</div>
      <div id="pop_id" class="learnNMP" style="color: #0A81C4; background: url('/images/bor1.gif') repeat-x scroll right bottom transparent">Popular</div>
      <div id="verified_tb" class="learnNML"><a href="javascript:;">Verified</a></div>
      <div id="recent_tab" class="learnNML"><a href="javascript:;">Recently Added</a></div>
      <div class="learnNMR"><a href="#">See All</a></div>
    </div>
  </div>

  <% @all_tools.each do |at|%>
    <%= render :partial => "bottom_item", :locals => {:item => at} %>
  <% end %>



  <div class="assPage" style="padding-left:0">
    <span class="numPage"><%= page_entries_info @all_tools %></span>
    <%= will_paginate @all_tools, :param_name => "all_tool_page", :class => "bot_paging"   %> 
  </div>
<% end %><!-- end form_tag -->
<script type="text/javascript">
  $(document).ready(function(){
    $('.bot_paging a').each(function(){
      $(this).attr('href','javascript:;');
    });
    $('.bot_paging a').each(function(){
      $(this).click(function(){
        if ($(this).text() == 'Next'){
          var str_page = parseInt("<%= @cur_bottom_page ? @cur_bottom_page : "1" %>")+1;
          $('#bottom_page_to_load').val(""+str_page);
        }else if ($(this).text() == 'Previous'){
          var str_page = parseInt("<%= @cur_bottom_page %>")-1;
          $('#bottom_page_to_load').val(""+str_page);
        }
        else {
          $('#bottom_page_to_load').val($(this).text());
        }
        $('form#form_first_tab').submit();
      });
    });
    
    /*BEGIN code for tab navigation*/
    $('#all_tool').click(function(){
      $('#bottom_page_tab_parm').val('first');
      $('#bottom_page_to_load').val('1');
      $('form#form_first_tab').submit();
    });
    $('#pop_id').click(function(){
      $('#bottom_page_tab_parm').val('second');
      $('#bottom_page_to_load').val('1');
      $('form#form_first_tab').submit();
    });
    $('#verified_tb').click(function(){
      $('#bottom_page_tab_parm').val('third');
      $('#bottom_page_to_load').val('1');
      $('form#form_first_tab').submit();
    });
    $('#recent_tab').click(function(){
      $('#bottom_page_tab_parm').val('fourth');
      //$('form#form_first_tab').submit();
    });
    
    /*END code for tab navigation*/
  });
</script>
