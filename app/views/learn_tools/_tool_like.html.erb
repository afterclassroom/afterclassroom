<% form_tag url_for(:controller => "learn_tools", :action => "maylike_tool_paging"), :id => "form_maylike", :method => :get, :remote => true do %>
<%= hidden_field_tag "maylike_to_load", params[:may_like_page] %>
<div class="learnTop learnTool">
  <div class="inboxTitle">Learning Tools You May Like</div>
  <div class="learnPage">
    <div class="learnPageL" style="margin-left: 150px;"><%= @str_maylike_page %></div>
    <div style="float: right;">
      <%= will_paginate @maylikes, :page_links=>false,:previous_label=> "",:next_label=>"", :param_name => "may_like_page"  %>     
    </div>
  </div>
</div>
<div class="learnTools">
  <% @maylikes.each_with_index do |m,index| %>
    <%= (index == 0 || index == 5) ? raw("<div class='learnTrow'>") : raw("") %>
    <%= render :partial => "may_like_item", :locals => {:index => index, :m => m} %>
    <%= (index == 4 || index == 9) ? raw("</div>") : raw("") %>
  <% end %>
</div>
<a id="testbtn" href="javascript:;">click here </a>
<% end %><!-- end form_tag -->
<script type="text/javascript">
  function SetPreviousMayLikeVariable(){
    var strPage = ''+ (parseInt( $('#maylike_to_load').val() ) - 1);
    $('#maylike_to_load').val(strPage);
  }  
  $(document).ready(function(){
    $('#testbtn').click(function(){
      $('form#form_maylike').submit();
    });

    var previousPage = $('.learnPage').eq(1).find('.previous_page');
    
    if ( $('.learnPage').eq(1).find('.previous_page')[0].nodeName == 'A' ){
      $('.learnPage').eq(1).find('.previous_page').attr('href','javascript:;');
      $(previousPage).click(function(){
        SetPreviousMayLikeVariable();
        //ShowMayLikeOverlay();
        $('form#form_maylike').submit();
      });
    }
    
    
    
  });
</script>